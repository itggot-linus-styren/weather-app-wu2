<template>
  <div class="flex">
    <!--
      type="search" och type="text" g√∂r ingen skillnad men det √§r tydligare
      att detta inputf√§lt √§r ett s√∂kf√§lt. Se ocks√•:
      https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/search
    -->      
    <input
      data-cy="city"
      class="input"
      type="search"
      placeholder="K√∂ttkulla.."
      @keyup.enter="onSearchClick"
      v-model="search"
    />
    <button data-cy="search" @click="onSearchClick">üîç</button>
  </div>
</template>

<script>
import config from '@/appConfig.js';

export default {
  name: "CitySearchField",
  data() {
    return {
      search: ""
    }
  },
  methods: {
    onSearchClick() {
      console.log(fetch(`http://api.openweathermap.org/data/2.5/weather?q=K√∂ttkulla&appid=${config.apiKey}`));
      this.$bus.emit('searchCity', this.search);
    }
  }
}
</script>

<style>
.flex {
  display: flex;
  max-width: 400px;
}

.input {
  width: 100%;
  padding: 8px 10px;
  border: 1px solid #32485F;
  flex: 1;
}
</style>